# 协程

![image](assets/image-20250223201033-pbek1l2.png)

![image](assets/image-20250528150334-3e8j972.png)

# 协程也可以做动画

![image](assets/image-20250528150704-4b88muh.png)

# 返回另外一个协程

![image](assets/image-20250528150843-q6qc94k.png)

# 例：

yield return null; 是同样的结果

![image](assets/image-20250223202259-pvlf8mg.png)

返回132，原因是当执行到yield时程序被暂时挂起

![image](assets/image-20250223202531-ah8j8yd.png)

waitForSeconds受timescale影响

![image](assets/image-20250223202715-fxctts0.png)

![image](assets/image-20250223202817-4xeorsv.png)

在fixedUpdate后执行

![image](assets/image-20250223202922-4ufn76e.png)

最后执行

![image](assets/image-20250223202956-2o8w84q.png)

![image](assets/image-20250223203133-r6mld8j.png)

# 例子

```csharp
IEnumerator LoadTable()
    {
        ResourceRequest request = Resources.LoadAsync("Level");
        Debug.Log("Coroutine" + request);
        yield return request;

        levelData = request.asset as LevelData;
        for (int i = 0; i < levelData.levelDataList.Count; i++)
        {
            Debug.Log(levelData.levelDataList[i].id);
        }
    }
```

输出

![image](assets/image-20250308203306-idxn961.png)

当执行到return时，程序挂起等待request加载完成

# 取消协程

## 取消全部

![image](assets/image-20250528151205-bysndx4.png)

## 明确的关闭某个协程（推荐）

![image](assets/image-20250528151238-gxrk0y3.png)

## 取消某个协程函数的全部

![image](assets/image-20250528151325-utzicfj.png)

‍
